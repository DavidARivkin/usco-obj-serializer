<html>
  <head>
    <title>Stl serializer example</title>
       <script type="text/javascript" src="three.min.js"></script>
      <script src="../lib/obj-serializer.js"></script>
  </head>
<body>
  <a  id="download">Download</a>
  <script>
    function getWindowURL()
    {
      if(window.URL)
      {
        return window.URL
      }
      else if( window.webkitURL){ return window.webkitURL;}
      else {throw new Error("Your browser doesn't support window.URL");}
    }

    var object = new THREE.Mesh(new THREE.CubeGeometry(10,10,10),new THREE.MeshBasicMaterial);
    object.add( subObject );

    var serializer = new OBJSerializer();
    var data = serializer.serialize(object);
    var blob = new Blob([data], {type: "application/obj"});
    var windowURL=getWindowURL();
    var outputFileBlobUrl = windowURL.createObjectURL(blob);

    var dlButton = document.querySelector("#download");
    dlButton.setAttribute("download","test.obj");
    dlButton.setAttribute("href",outputFileBlobUrl);
    
  </script>  
</body>
</html>
